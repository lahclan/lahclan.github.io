---
layout: page
---
{{ content }}

{% if page.collection and page.collection.size > 0 %}
  {% assign collection = site[page.collection] %}
  {% if collection and collection.size > 0 %}
    {% assign sorted_collection = collection | sort: 'started' | reverse %}
    {% for item in sorted_collection %}
      {% assign current_year = item.started | date: '%Y' %}
      
      {% if current_year != year %}
        {% unless forloop.first %}
          </div> {% endunless %}
        
        <h1 id="y{{item.started | date: "%Y"}}">
          <a href="{{ current_year | prepend: '/books/' | relative_url }}">{{ current_year }}</a>
        </h1>
        
        <div class="row"> 
          {% assign year = current_year %}
      {% endif %}

      <div class="col-6 col-md-3 mb-3"> 
          <figure class="cover">
            <a class="cover-link" href="{{ item.url | relative_url }}">
              {% if item.cover %}
                <img class="img-fluid rounded" alt="{{ item.title }} cover" src="{{ item.cover | prepend: page.covers | relative_url }}" style="height:200px; object-fit: cover;">
              {% elsif item.olid %}
                <img class="img-fluid rounded" alt="{{ item.title }} cover" src="http://covers.openlibrary.org/b/olid/{{ item.olid }}-L.jpg?default=false" style="height:200px; object-fit: cover;">
              {% elsif item.isbn %}
                <img class="img-fluid rounded" alt="{{ item.title }} cover" src="http://covers.openlibrary.org/b/isbn/{{ item.isbn }}-L.jpg?default=false" style="height:200px; object-fit: cover;">
              {% endif %}
            </a>
          </figure>
      </div> 

      {% if forloop.last %}
        </div> {% endif %}
      
    {% endfor %}
  {% endif %}
{% endif %}
